# Digital Ocean App Spec - Template Mínimo
# Copia este archivo a la raíz si quieres deployment via CLI

name: tiktoolstream

services:
  - name: web
    github:
      repo: TU-USUARIO/TU-REPO
      branch: main
      deploy_on_push: true

    build_command: npm ci --only=production
    run_command: node server-new.js

    http_port: 8080

    instance_count: 1
    instance_size_slug: basic-xxs

    health_check:
      http_path: /api/health

    routes:
      - path: /

# Configurar variables de entorno en Digital Ocean Dashboard:
# 1. DATABASE_URL (connection string de PostgreSQL)
# 2. JWT_SECRET (generar con: npm run generate:jwt)
# 3. PAYPAL_CLIENT_ID
# 4. PAYPAL_SECRET
# 5. TIKTOK_SESSION_ID (opcional)
